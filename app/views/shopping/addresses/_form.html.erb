<%= semantic_form_for(:address, @shopping_address, :url => shopping_addresses_path) do |f| %>
  <% if @shopping_address.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@shopping_address.errors.count, "error") %> prohibited this shopping_address from being saved:</h2>

      <ul>
      <% @shopping_address.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

    <div class="inline">
      <div class="field column">
         <%= f.input :first_name, :input_html => {:class => 'span-3'} %>
      </div>

      <div class="field column">
        <%= f.input :last_name, :input_html => {:class => 'span-3'} %>
      </div>
    </div>
<div class='clear'></div>
  <div class="field column">
    <%= f.input :address1 %>

    <%= f.input :address2 %>
  </div>
<div class='clear'></div>

  <div class="field column">
    <%= f.input   :state_id,
                  :collection => @states,
                  :include_blank => true,
                  :as => :select , :label => "State/Province" %>
  </div>
<div class='clear'></div>
  <div class="inline span-12">
    <div class="field column">
      <%= f.input :city, :input_html => {:class => 'span-3'} %>
    </div>

  <% if nil %>
    <div class="field column">
      <%= f.input :state_name, :input_html => {:class => 'span-3'} %>
    </div>
  <% end %>

    <div class="field column">
      <%= f.input :zip_code, :required => true, :input_html => {:class => 'span-2'} %>
    </div>
  </div>
  
<div class='clear'></div>
  <div class="field">
    <%#= f.input :phone %>
  </div>

  <div class="field column">
    <%= check_box_tag :default, 1, f.object.default? %><%= f.label :default, "Make this my default shipping method", :class => 'auto_width' %>
  </div>







  <div class="actions column prepend-1">
    <%= f.submit %>
  </div>
<% end %>
